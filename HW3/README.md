# HW3
## Взаимодействие с приложением

### Отправка запросов

Для взаимодействия с приложением и получения текущего времени или статистики доступа отправьте HTTP-запросы по следующим конечным точкам:

```bash
# Перенаправление Istio Ingress Gateway на localhost
kubectl port-forward svc/istio-ingressgateway 8080:80 -n istio-system
```

1. **Получить текущее время**:
   - Конечная точка: `/time`
   - Метод: GET
   - Пример запроса:
     ```bash
     curl http://localhost:5000/time
     ```
   - Пример ответа:
     ```json
     {"Time": "2024-04-26T10:30:00"}
     ```

2. **Получить статистику доступа**:
   - Конечная точка: `/statistics`
   - Метод: GET
   - Пример запроса:
     ```bash
     curl http://localhost:5000/statistics
     ```
   - Пример ответа:
     ```json
     {"Access count": 10}
     ```

### Доступ к файлу лога

Чтобы получить доступ к файлу логов `/data/logfile.log` в контейнере `fetcher`, выполните следующие шаги:

1. Используйте `kubectl exec` для подключения к контейнеру `fetcher`:

   ```bash
   kubectl exec -it [имя-пода-fetcher] -- sh
   ```

2. Просмотрите содержимое файла логов с помощью любого текстового редактора или команды `cat`:

   ```bash
   cat /data/logfile.log
   ```

   Это позволит вам просмотреть содержимое файла логов `logfile.log` прямо внутри контейнера `fetcher`.

### Доступ к Prometheus

Перед тем как начать использовать Prometheus на `localhost:9090` и мониторить `request_count`, вам необходимо настроить перенаправление портов следующим образом:

```bash
# Перенаправление сервиса Prometheus на localhost
kubectl port-forward svc/prometheus 9090
```

После настройки перенаправления портов вы можете получить доступ к Prometheus на `localhost:9090`.